<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Student Portal</title>
    <link rel="stylesheet" href="/public/css/login.css">
  </head>
  <body>
    <div class="wrapper fadeInDown">
      <div id="formContent">
        <h2 class="active"> Sign In </h2>
        <div class="fadeIn first">
          <img src="/public/img/main.png" id="icon" alt="User Icon">
        </div>
        <form>
          <input type="text" id="sapid" class="fadeIn second" name="login" placeholder="SAP ID">
          <input type="password" id="password" class="fadeIn third" name="login" placeholder="Password">
          <!-- <input type="submit" class="fadeIn fourth" value="Log In" id="register"> -->
          <input type="submit" class="fadeIn fourth" value="Log In" id="register">

        </form>
        <div id="formFooter"> Don't have an account? <a class="underlineHover" href="sign_up.html">Sign up</a>
        </div>
      </div>
    </div>
    <!-- <script type="module">
      import {
        initializeApp
      } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
        get,
        child
      } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
      document.getElementById("register").addEventListener("click", function(e) {
        e.preventDefault();
        const sapid = document.getElementById("sapid").value;
        const password = document.getElementById("password").value;
        const firebaseConfig = {
          apiKey: "AIzaSyCXmzpSNIpV6nVvY2mCA8KVAUCTz_srfts",
          authDomain: "studentportal2-2c9d5.firebaseapp.com",
          databaseURL: "https://studentportal2-2c9d5-default-rtdb.firebaseio.com/",
          projectId: "studentportal2-2c9d5",
          storageBucket: "studentportal2-2c9d5.appspot.com",
          messagingSenderId: "285092598579",
          appId: "1:285092598579:web:353b47ac3e0aa44b00e446",
          measurementId: "G-HMJJQ9KBRR"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        // Create a reference to the "users" collection in Firebase
        const usersRef = ref(db, "users");
        // Check if the SAP ID already exists in Firebase
        get(child(usersRef, sapid)).then((snapshot) => {
          if (snapshot.exists()) {
            if (snapshot.val().password == password) {
              alert("Login Successful");
              window.location.href = "dashboard.html";
            } else {
              alert("Incorrect Password");
            }
          } else {
            alert("User does not exist");
            window.location.href = "sign up.html";
          }
        });
        
      });
    </script> -->
    <script src="/public/js/login.js" type="module"></script>
    <script src="/public/js/firebase-config.js" type="module"></script>
    <script src="/public/js/dashboard.js" type="module"></script>
  </body>
</html>